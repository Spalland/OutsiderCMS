/*! outsider 2017-05-30 */
angular.module("activityCtrl",[]).controller("activityController",["Article","$routeParams",function(Article,$routeParams){var ctrl=this;ctrl.activity=$routeParams.activity,ctrl.articles=[],ctrl.currentPage=1,ctrl.articlesPerPage=10,ctrl.title=$routeParams.activity,ctrl.moreToLoad=!0,Article.allOfActivity(ctrl.activity,{rpp:ctrl.articlesPerPage,page:ctrl.currentPage}).then(function(response){ctrl.articles=response.data.data}),ctrl.loadMore=function(){ctrl.loadingMore!==!0&&(ctrl.loadingMore=!0,ctrl.currentPage++,Article.allOfActivity(ctrl.activity,{rpp:ctrl.articlesPerPage,page:ctrl.currentPage}).then(function(response){var newArticles=response.data.data;newArticles.length<ctrl.articlesPerPage&&(ctrl.moreToLoad=!1);for(var i=0;i<newArticles.length;i++)ctrl.articles.push(newArticles[i]);ctrl.loadingMore=!1}))}}]);