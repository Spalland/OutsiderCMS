/*! outsider 2016-06-03 */
!function(window,angular){"use strict";angular.module("vimeo-embed",[]).directive("vimeoVideo",function(VimeoService){return{restrict:"EA",replace:!0,scope:{videoId:"@",videoUrl:"=",playerOpts:"=",playerHeight:"=",playerWidth:"=",api:"="},link:function(scope,element,attrs,ctrl){var playerId=attrs.playerId||element[0].id;element[0].id=playerId;var options=scope.playerOpts,params={url:scope.videoId?"https://vimeo.com/"+scope.videoId:scope.videoUrl,callback:"JSON_CALLBACK",player_id:playerId};if(scope.playerWidth&&(params.width=scope.playerWidth),scope.playerHeight&&(params.height=scope.playerHeight),scope.api&&(params.api=1),options)for(var prop in options)options.hasOwnProperty(prop)&&(params[prop]=options[prop]);scope.$watch(function(){return attrs.videoId},function(newVal){scope.videoId=newVal,params.url=scope.videoId?"https://vimeo.com/"+scope.videoId:scope.videoUrl,scope.getVideo()}),scope.getVideo=function(){VimeoService.oEmbed(params).then(function(data){element.html(data.html)},function(){element.html("<div>Failed to retreive video.</div>")})},scope.videoUrl&&scope.getVideo()}}}).factory("VimeoService",function($http){var endpoint="https://www.vimeo.com/api/oembed.json";return{oEmbed:function(params){return $http.jsonp(endpoint,{params:params}).then(function(res){return res.data})}}})}(window,window.angular);